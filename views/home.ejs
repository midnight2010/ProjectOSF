<!DOCTYPE html>
<html lang="en">

<%- include('./partials/head.ejs') %>


<body>
   <%- include('./partials/header.ejs') %>
   <% if(typeof(categories) == 'undefined') { %>
    <main style='height:700px'></main>
    <% } else { %>
      <div class='main-category'>
        <% let item = categories.find(elem => elem )
          <h1><%= categories[0].parent_category_id.toUpperCase()%></h1>
    
          <p><%= categories[0].page_description%></p>
    
      </div>
     <main>
          <h1>Subcategories</h1>
          <% categories.forEach(element => { %>
           <section style='height:250px'>
            <div class='subcategory'>
                <img src='/images/<%= element.image %>' alt="#">
                <p><%= element.page_description %></p>
             <% if(typeof(breadcrumbs) !== 'undefined') { %>
                <%if(breadcrumbs.length == 1) { %>
                     <button><a href='/categories/<%= breadcrumbs.join('/') + '/' + element.id %>'>View Subcategories</a></button>
                <% } else { %>
                    <button><a href='/products/<%= breadcrumbs.join('/') + '/' + element.id %>'>View Products</a></button>
                <% } %>
             <% } %>
                <hr>
            </div>
           </section> 
           <% }) %>
    </main>
  <% } %>
<%- include('./partials/footer.ejs') %>

</body>
</html>